Version 4
SHEET 1 2024 2900
WIRE 32 16 -96 16
WIRE 112 16 32 16
WIRE 176 16 112 16
WIRE 480 16 432 16
WIRE 560 16 480 16
WIRE 656 16 560 16
WIRE -944 224 -1008 224
WIRE -800 224 -944 224
WIRE -800 256 -800 224
WIRE 0 304 -96 304
WIRE -944 336 -944 304
WIRE 0 336 -160 336
WIRE 192 336 80 336
WIRE -944 416 -944 400
WIRE -944 416 -1088 416
WIRE -800 416 -800 320
WIRE -800 416 -944 416
WIRE 800 416 736 416
WIRE 1488 416 1424 416
WIRE -944 432 -944 416
WIRE 0 704 -96 704
WIRE 0 736 -208 736
WIRE 192 736 80 736
WIRE 1408 736 1360 736
WIRE -944 752 -1008 752
WIRE -800 752 -944 752
WIRE 240 768 80 768
WIRE -800 784 -800 752
WIRE 1408 832 1408 816
WIRE 1552 832 1552 800
WIRE 1552 832 1408 832
WIRE -944 864 -944 832
WIRE -944 944 -944 928
WIRE -944 944 -1088 944
WIRE -800 944 -800 848
WIRE -800 944 -944 944
WIRE -944 960 -944 944
WIRE 800 976 736 976
WIRE -288 1200 -288 1184
WIRE -112 1200 -288 1200
WIRE 64 1200 -48 1200
WIRE -944 1296 -1008 1296
WIRE -800 1296 -944 1296
WIRE -288 1296 -288 1200
WIRE -800 1328 -800 1296
WIRE 48 1328 -112 1328
WIRE -176 1376 -288 1376
WIRE -944 1408 -944 1376
WIRE -944 1488 -944 1472
WIRE -944 1488 -1088 1488
WIRE -800 1488 -800 1392
WIRE -800 1488 -944 1488
WIRE -944 1504 -944 1488
WIRE 544 1568 480 1568
WIRE 480 1632 480 1568
WIRE 544 1632 480 1632
WIRE 144 1648 48 1648
WIRE 256 1648 256 1632
WIRE 256 1648 144 1648
WIRE 144 1680 144 1648
WIRE 256 1680 256 1648
WIRE -208 1744 -304 1744
WIRE 48 1744 48 1648
WIRE 48 1744 -16 1744
WIRE 144 1808 144 1744
WIRE 256 1808 256 1760
WIRE 256 1808 144 1808
WIRE 480 1808 480 1632
WIRE 544 1808 480 1808
WIRE -944 1840 -1008 1840
WIRE -800 1840 -944 1840
WIRE -800 1872 -800 1840
WIRE 256 1872 256 1808
WIRE 544 1872 256 1872
WIRE -304 1904 -304 1744
WIRE -944 1952 -944 1920
WIRE -944 2032 -944 2016
WIRE -944 2032 -1088 2032
WIRE -800 2032 -800 1936
WIRE -800 2032 -944 2032
WIRE -944 2048 -944 2032
FLAG 32 80 0
FLAG 112 80 0
FLAG 480 80 0
FLAG 560 80 0
FLAG 656 16 VCC
FLAG 304 112 0
FLAG -96 96 0
FLAG 848 432 0
FLAG 736 336 AUDIO1
FLAG -288 1456 0
FLAG -112 1424 0
FLAG 48 1328 RESET_AUDIO1
FLAG 736 896 AUDIO2
FLAG 848 32 SpeakerIn
FLAG 848 336 SpeakerIn
FLAG 848 896 SpeakerIn
FLAG 848 -48 VCC
FLAG 80 1808 0
FLAG 256 1552 VCC
FLAG 624 1568 VCC
FLAG 544 1632 TRIGGER1
FLAG 1552 928 VCC
FLAG 1424 912 ALARM
FLAG -128 2352 0
FLAG -128 2224 0
FLAG -80 2208 TRIGGER1
FLAG -80 2288 0
FLAG 1552 720 0
FLAG 1408 656 0
FLAG 1360 736 TTP_AHLB
FLAG -304 1984 0
FLAG -16 1840 0
FLAG -208 1840 0
FLAG -1088 224 DIS1
FLAG -944 480 0
FLAG -1088 416 THRES1
FLAG -1088 752 DIS2
FLAG -944 1008 0
FLAG -1088 944 THRES2
FLAG -1088 1296 DIS3
FLAG -944 1552 0
FLAG -1088 1488 THRES3
FLAG -1088 1840 DIS4
FLAG -944 2096 0
FLAG -1088 2032 THRES4
FLAG 80 240 VCC
FLAG 0 432 0
FLAG 80 304 THRES2
FLAG 80 432 THRES2
FLAG 80 272 DIS2
FLAG 0 368 AUDIO1
FLAG 0 240 DIS1
FLAG 0 272 THRES1
FLAG 0 400 THRES1
FLAG 80 400 AUDIO2
FLAG 80 640 VCC
FLAG 0 832 0
FLAG 80 704 THRES4
FLAG 80 832 THRES4
FLAG 256 736 0
FLAG 80 672 DIS4
FLAG -160 704 0
FLAG 0 768 AUDIOTOGGLE
FLAG 0 640 DIS3
FLAG 0 672 THRES3
FLAG 0 800 THRES3
FLAG 80 800 LED
FLAG 1536 432 0
FLAG 1424 336 LED
FLAG 544 1776 0
FLAG 608 1776 VCC
FLAG 544 1840 ALARM
FLAG 672 1872 0
FLAG 608 1840 0
FLAG 848 992 0
FLAG -288 1184 AUDIOTOGGLE
FLAG 64 1200 RESET_AUDIO2
FLAG 1536 256 VCC
FLAG -944 64 VCC
FLAG -160 304 0
FLAG -160 336 VCC
FLAG 256 336 0
FLAG 80 368 VCC
FLAG -208 736 VCC
FLAG 240 768 VCC
FLAG -944 592 VCC
FLAG -944 1136 VCC
FLAG -944 1680 VCC
SYMBOL voltage -96 0 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=0.150
SYMATTR InstName V1
SYMATTR Value 8.4
SYMBOL PowerProducts\\LT1086-5 304 16 R0
SYMATTR InstName U2
SYMBOL cap 16 16 R0
SYMATTR InstName C1
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.021 Lser=549p mfg="Würth Elektronik" pn="885012209019 WCAP-CSGP 1210" type="X7R"
SYMBOL cap 96 16 R0
SYMATTR InstName C2
SYMATTR Value 10µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.0039 Lser=550p mfg="Würth Elektronik" pn="885012208069 WCAP-CSGP 1206" type="X7R"
SYMBOL cap 464 16 R0
SYMATTR InstName C3
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.021 Lser=549p mfg="Würth Elektronik" pn="885012209019 WCAP-CSGP 1210" type="X7R"
SYMBOL cap 544 16 R0
SYMATTR InstName C4
SYMATTR Value 10µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.0039 Lser=550p mfg="Würth Elektronik" pn="885012208069 WCAP-CSGP 1206" type="X7R"
SYMBOL nmos 800 336 R0
SYMATTR InstName M1
SYMATTR Value AO6408
SYMBOL res 720 320 R0
SYMATTR InstName R4
SYMATTR Value 4.7K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL npn -176 1328 R0
SYMATTR InstName Q1
SYMATTR Value BC547C
SYMBOL res -304 1280 R0
SYMATTR InstName R3
SYMATTR Value 4.7K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res -304 1360 R0
SYMATTR InstName R5
SYMATTR Value 4.7K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL nmos 800 896 R0
SYMATTR InstName M2
SYMATTR Value AO6408
SYMBOL res 720 880 R0
SYMATTR InstName R11
SYMATTR Value 4.7K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res 832 -64 R0
SYMATTR InstName Speaker
SYMATTR Value 100
SYMBOL polcap 144 1792 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C11
SYMATTR Value 0.1µ
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=10 Irms=4.74342 Rser=0.01 Lser=0
SYMBOL res 240 1536 R0
SYMATTR InstName R13
SYMATTR Value 4.7K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res 528 1584 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R14
SYMATTR Value 4.7K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res 1520 896 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 4.7K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res 1536 704 R0
SYMATTR InstName TTP_POWER
SYMATTR Value 100
SYMBOL voltage -128 2256 R0
WINDOW 0 -68 53 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PWL(1 0 1.1 5 1.5 5 1.6 0)
SYMBOL sw -80 2192 R0
SYMATTR InstName S1
SYMATTR Value switch
SYMBOL pmos 1504 832 R0
SYMATTR InstName M3
SYMATTR Value AO6407
SYMBOL res 1392 720 R0
SYMATTR InstName R16
SYMATTR Value 4.7K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res 1392 640 R0
SYMATTR InstName R17
SYMATTR Value 1K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL voltage -304 1888 R0
WINDOW 0 -68 53 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PWL(3 0 3.1 5 3.5 5 3.6 0)
SYMBOL Optos\\PC817C -112 1792 R0
SYMATTR InstName U4
SYMBOL res 240 1664 R0
SYMATTR InstName R12
SYMATTR Value 2K
SYMBOL diode 128 1680 R0
SYMATTR InstName D12
SYMATTR Value 1N4148
SYMBOL res -960 48 R0
SYMATTR InstName SeriesResistor2
SYMATTR Value 1K
SYMBOL res -960 128 R0
SYMATTR InstName POT3
SYMATTR Value 1K
SYMBOL res -960 208 R0
SYMATTR InstName POT4
SYMATTR Value 1K
SYMBOL cap -960 416 R0
SYMATTR InstName C5
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.021 Lser=549p mfg="Würth Elektronik" pn="885012209019 WCAP-CSGP 1210" type="X7R"
SYMBOL diode -816 256 R0
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode -928 400 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL res -992 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName SeriesResistor3
SYMATTR Value 1K
SYMBOL res -960 576 R0
SYMATTR InstName SeriesResistor4
SYMATTR Value 1K
SYMBOL res -960 656 R0
SYMATTR InstName POT5
SYMATTR Value 15K
SYMBOL res -960 736 R0
SYMATTR InstName POT6
SYMATTR Value 15K
SYMBOL cap -960 944 R0
SYMATTR InstName C6
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.021 Lser=549p mfg="Würth Elektronik" pn="885012209019 WCAP-CSGP 1210" type="X7R"
SYMBOL diode -816 784 R0
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL diode -928 928 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMATTR Value 1N4148
SYMBOL res -992 736 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName SeriesResistor5
SYMATTR Value 1K
SYMBOL res -960 1120 R0
SYMATTR InstName SeriesResistor6
SYMATTR Value 1K
SYMBOL res -960 1200 R0
SYMATTR InstName POT7
SYMATTR Value 68K
SYMBOL res -960 1280 R0
SYMATTR InstName POT8
SYMATTR Value 68K
SYMBOL cap -960 1488 R0
SYMATTR InstName C7
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.021 Lser=549p mfg="Würth Elektronik" pn="885012209019 WCAP-CSGP 1210" type="X7R"
SYMBOL diode -816 1328 R0
SYMATTR InstName D6
SYMATTR Value 1N4148
SYMBOL diode -928 1472 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D7
SYMATTR Value 1N4148
SYMBOL res -992 1280 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName SeriesResistor7
SYMATTR Value 1K
SYMBOL res -960 1664 R0
SYMATTR InstName SeriesResistor8
SYMATTR Value 1K
SYMBOL res -960 1744 R0
SYMATTR InstName POT9
SYMATTR Value 20K
SYMBOL res -960 1824 R0
SYMATTR InstName POT10
SYMATTR Value 20K
SYMBOL cap -960 2032 R0
SYMATTR InstName C12
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.021 Lser=549p mfg="Würth Elektronik" pn="885012209019 WCAP-CSGP 1210" type="X7R"
SYMBOL diode -816 1872 R0
SYMATTR InstName D13
SYMATTR Value 1N4148
SYMBOL diode -928 2016 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D14
SYMATTR Value 1N4148
SYMBOL res -992 1824 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName SeriesResistor9
SYMATTR Value 1K
SYMBOL NE556_TRANSISTOR 32 336 R0
SYMATTR InstName U1
SYMBOL cap 256 320 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C13
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=25 Irms=993m Rser=0.0828114 Lser=0 mfg="KEMET" pn="C1812F104K3RAC" type="X7R"
SYMBOL cap -96 288 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C14
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=25 Irms=993m Rser=0.0828114 Lser=0 mfg="KEMET" pn="C1812F104K3RAC" type="X7R"
SYMBOL NE556_TRANSISTOR 32 736 R0
SYMATTR InstName U5
SYMBOL cap 256 720 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C15
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=25 Irms=993m Rser=0.0828114 Lser=0 mfg="KEMET" pn="C1812F104K3RAC" type="X7R"
SYMBOL cap -96 688 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C16
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=25 Irms=993m Rser=0.0828114 Lser=0 mfg="KEMET" pn="C1812F104K3RAC" type="X7R"
SYMBOL nmos 1488 336 R0
SYMATTR InstName M4
SYMATTR Value AO6408
SYMBOL res 1408 320 R0
SYMATTR InstName R1
SYMATTR Value 4.7K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL NE555_TRANSISTOR 576 1824 R0
WINDOW 3 0 108 Top 2
SYMATTR InstName U3
SYMBOL cap 608 1888 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C9
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=25 Irms=993m Rser=0.0828114 Lser=0 mfg="KEMET" pn="C1812F104K3RAC" type="X7R"
SYMBOL diode -48 1184 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL res 1520 240 R0
SYMATTR InstName LEDARRAY
SYMATTR Value 100
TEXT -608 -224 Left 2 !.tran 0 5 0 1 uic\n \n.options reltol=0.001 abstol=1p chgtol=1f\n.options gmin=1p cshunt=10f\n.options itl1=300 itl2=1500 itl4=50\n \n.model switch sw(ron=0.001 roff=1MEG vt=4.9 vh=0)
