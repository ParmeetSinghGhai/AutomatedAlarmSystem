Version 4
SHEET 1 1524 2180
WIRE 32 16 -96 16
WIRE 112 16 32 16
WIRE 176 16 112 16
WIRE 480 16 432 16
WIRE 560 16 480 16
WIRE 656 16 560 16
WIRE -688 272 -688 208
WIRE -496 272 -688 272
WIRE 1088 304 1008 304
WIRE 1152 304 1088 304
WIRE -688 336 -688 272
WIRE -560 336 -608 336
WIRE -464 336 -496 336
WIRE 336 464 112 464
WIRE -688 480 -688 336
WIRE -576 480 -624 480
WIRE -496 480 -496 336
WIRE 1088 480 1088 304
WIRE -32 496 -208 496
WIRE 160 592 112 592
WIRE 304 592 160 592
WIRE 512 592 368 592
WIRE -688 736 -688 672
WIRE -496 736 -688 736
WIRE -688 800 -688 736
WIRE -560 800 -608 800
WIRE -464 800 -496 800
WIRE 1088 864 1008 864
WIRE 1152 864 1088 864
WIRE 160 912 160 592
WIRE -688 944 -688 800
WIRE -576 944 -624 944
WIRE -496 944 -496 800
WIRE 496 944 336 944
WIRE 272 992 160 992
WIRE 1088 1040 1088 864
WIRE -688 1216 -688 1152
WIRE -496 1216 -688 1216
WIRE -688 1280 -688 1216
WIRE -560 1280 -608 1280
WIRE -464 1280 -496 1280
WIRE 1088 1344 1040 1344
WIRE -688 1424 -688 1280
WIRE -576 1424 -624 1424
WIRE -496 1424 -496 1280
WIRE 1088 1440 1088 1424
WIRE 1232 1440 1232 1408
WIRE 1232 1440 1088 1440
WIRE -320 1456 -416 1456
WIRE -208 1456 -208 1440
WIRE -208 1456 -320 1456
WIRE -320 1488 -320 1456
WIRE -208 1488 -208 1456
WIRE 576 1536 512 1536
WIRE 720 1536 576 1536
WIRE -672 1552 -768 1552
WIRE -416 1552 -416 1456
WIRE -416 1552 -480 1552
WIRE 720 1568 720 1536
WIRE 32 1584 -16 1584
WIRE -320 1616 -320 1552
WIRE -208 1616 -208 1568
WIRE -208 1616 -320 1616
WIRE 32 1616 -208 1616
WIRE 208 1616 112 1616
WIRE 576 1648 576 1616
WIRE -80 1680 -144 1680
WIRE 32 1680 -80 1680
WIRE 176 1680 112 1680
WIRE -768 1712 -768 1552
WIRE 576 1728 576 1712
WIRE 576 1728 432 1728
WIRE 720 1728 720 1632
WIRE 720 1728 576 1728
WIRE -144 1744 -144 1680
WIRE -80 1744 -80 1680
WIRE 576 1744 576 1728
FLAG 32 80 0
FLAG 112 80 0
FLAG 480 80 0
FLAG 560 80 0
FLAG 656 16 VCC
FLAG 304 112 0
FLAG -96 96 0
FLAG -688 144 0
FLAG 112 400 VCC
FLAG 1200 320 0
FLAG 1088 224 Audio1
FLAG -32 400 A
FLAG -496 272 A
FLAG -464 336 AN
FLAG -32 432 AN
FLAG -688 336 B
FLAG -32 464 B
FLAG -208 496 Audio1
FLAG -688 608 0
FLAG -496 736 C
FLAG -464 800 CN
FLAG -688 800 F
FLAG -32 528 C
FLAG -32 560 CN
FLAG -32 592 0
FLAG 112 432 F
FLAG 336 464 Audio2
FLAG -688 1088 0
FLAG -496 1216 E
FLAG -464 1280 EN
FLAG -688 1280 D
FLAG 112 496 E
FLAG 112 528 EN
FLAG 112 560 D
FLAG 160 1072 0
FLAG 336 1040 0
FLAG 496 944 AudioToggle2
FLAG 1088 480 AudioToggle1
FLAG 1200 880 0
FLAG 1088 784 Audio2
FLAG 1088 1040 AudioToggle2
FLAG 1408 560 SpeakerIn
FLAG 1200 224 SpeakerIn
FLAG 1200 784 SpeakerIn
FLAG 1408 480 VCC
FLAG 512 592 AudioToggle1
FLAG 112 1520 VCC
FLAG 32 1712 0
FLAG 112 1584 THRES2
FLAG 112 1712 THRES2
FLAG 112 1648 VCC
FLAG 176 1680 LED
FLAG 272 1616 0
FLAG 112 1552 DIS2
FLAG 432 1536 DIS2
FLAG 576 1792 0
FLAG 432 1728 THRES2
FLAG -16 1520 0
FLAG 32 1552 0
FLAG 32 1648 ALARM
FLAG -384 1616 0
FLAG -208 1360 VCC
FLAG -80 1824 VCC
FLAG -144 1744 TRIGGER1
FLAG 1232 1536 VCC
FLAG 1104 1520 ALARM
FLAG -592 2160 0
FLAG -592 2032 0
FLAG -544 2016 TRIGGER1
FLAG -544 2096 0
FLAG 576 1376 0
FLAG 1232 1328 0
FLAG 1088 1264 0
FLAG 1040 1344 TTP_AHLB
FLAG 944 864 ALARM
FLAG 944 304 ALARM
FLAG -768 1792 0
FLAG -480 1648 0
FLAG -672 1648 0
FLAG 160 512 0
SYMBOL voltage -96 0 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR InstName V1
SYMATTR Value 8.4
SYMATTR SpiceLine Rser=0.150
SYMBOL PowerProducts\\LT1086-5 304 16 R0
SYMATTR InstName U2
SYMBOL cap 16 16 R0
SYMATTR InstName C1
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.021 Lser=549p mfg="Würth Elektronik" pn="885012209019 WCAP-CSGP 1210" type="X7R"
SYMBOL cap 96 16 R0
SYMATTR InstName C2
SYMATTR Value 10µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.0039 Lser=550p mfg="Würth Elektronik" pn="885012208069 WCAP-CSGP 1206" type="X7R"
SYMBOL cap 464 16 R0
SYMATTR InstName C3
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.021 Lser=549p mfg="Würth Elektronik" pn="885012209019 WCAP-CSGP 1210" type="X7R"
SYMBOL cap 544 16 R0
SYMATTR InstName C4
SYMATTR Value 10µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.0039 Lser=550p mfg="Würth Elektronik" pn="885012208069 WCAP-CSGP 1206" type="X7R"
SYMBOL res -592 320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 5K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL cap -672 208 R180
WINDOW 0 24 57 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C5
SYMATTR Value 10µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.0105 Lser=800p mfg="Würth Elektronik" pn="885012106031 WCAP-CSGP 0603" type="X5R"
SYMBOL CD40106B_HEX 32 496 R0
WINDOW 39 8 144 Invisible 2
SYMATTR InstName U1
SYMATTR Value2 vdd=5 speed=1 tripdt=5n
SYMBOL diode -496 320 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res -480 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 5K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL nmos 1152 224 R0
SYMATTR InstName M1
SYMATTR Value AO6408
SYMBOL res 1072 208 R0
SYMATTR InstName R4
SYMATTR Value 4.7K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL diode -688 496 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL res -592 784 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL cap -672 672 R180
WINDOW 0 24 57 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C6
SYMATTR Value 10µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.0105 Lser=800p mfg="Würth Elektronik" pn="885012106031 WCAP-CSGP 0603" type="X5R"
SYMBOL diode -496 784 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL res -480 928 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 10K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL diode -688 960 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D5
SYMATTR Value 1N4148
SYMBOL res -592 1264 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 30K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL cap -672 1152 R180
WINDOW 0 24 57 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C7
SYMATTR Value 10µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.0105 Lser=800p mfg="Würth Elektronik" pn="885012106031 WCAP-CSGP 0603" type="X5R"
SYMBOL diode -496 1264 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D6
SYMATTR Value 1N4148
SYMBOL res -480 1408 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 30K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL diode -688 1440 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D7
SYMATTR Value 1N4148
SYMBOL npn 272 944 R0
SYMATTR InstName Q1
SYMATTR Value BC547C
SYMBOL res 144 896 R0
SYMATTR InstName R3
SYMATTR Value 4.7K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res 144 976 R0
SYMATTR InstName R5
SYMATTR Value 4.7K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL nmos 1152 784 R0
SYMATTR InstName M2
SYMATTR Value AO6408
SYMBOL res 1072 768 R0
SYMATTR InstName R11
SYMATTR Value 4.7K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res 1392 464 R0
SYMATTR InstName Speaker
SYMATTR Value 100
SYMBOL NE556_TRANSISTOR 64 1616 R0
SYMATTR InstName U3
SYMBOL cap 272 1600 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C8
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=25 Irms=993m Rser=0.0828114 Lser=0 mfg="KEMET" pn="C1812F104K3RAC" type="X7R"
SYMBOL res 560 1360 R0
SYMATTR InstName SeriesResistor
SYMATTR Value 1K
SYMBOL res 560 1440 R0
SYMATTR InstName POT1
SYMATTR Value 20K
SYMBOL res 560 1520 R0
SYMATTR InstName POT2
SYMATTR Value 20K
SYMBOL cap 560 1728 R0
SYMATTR InstName C9
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=25 Irms=0 Rser=0.021 Lser=549p mfg="Würth Elektronik" pn="885012209019 WCAP-CSGP 1210" type="X7R"
SYMBOL diode 704 1568 R0
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL diode 592 1712 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D8
SYMATTR Value 1N4148
SYMBOL res 528 1520 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName SeriesResistor1
SYMATTR Value 1K
SYMBOL polcap -320 1600 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C11
SYMATTR Value 100µ
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=10 Irms=4.74342 Rser=0.01 Lser=0 mfg="KEMET" pn="A700X107M010ATE010" type="Al electrolytic"
SYMBOL res -224 1344 R0
SYMATTR InstName R13
SYMATTR Value 4.7K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res -96 1728 R0
SYMATTR InstName R14
SYMATTR Value 4.7K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res 1200 1504 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 4.7K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res 1216 1312 R0
SYMATTR InstName TTP_POWER
SYMATTR Value 100
SYMBOL voltage -592 2064 R0
WINDOW 0 -68 53 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PWL(1 0 1.1 5 1.5 5 1.6 0)
SYMBOL sw -544 2000 R0
SYMATTR InstName S1
SYMATTR Value switch
SYMBOL pmos 1184 1440 R0
SYMATTR InstName M3
SYMATTR Value AO6407
SYMBOL res 1072 1328 R0
SYMATTR InstName R16
SYMATTR Value 4.7K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res 1072 1248 R0
SYMATTR InstName R17
SYMATTR Value 1K
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL diode 368 576 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D9
SYMATTR Value 1N4148
SYMBOL diode 1008 288 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D10
SYMATTR Value 1N4148
SYMBOL diode 1008 848 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D11
SYMATTR Value 1N4148
SYMBOL voltage -768 1696 R0
WINDOW 0 -68 53 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PWL(3 0 3.1 5 3.5 5 3.6 0)
SYMBOL Optos\\PC817C -576 1600 R0
SYMATTR InstName U4
SYMBOL res 144 496 R0
SYMATTR InstName R10
SYMATTR Value 100K
SYMBOL res -224 1472 R0
SYMATTR InstName R12
SYMATTR Value 2K
SYMBOL cap 0 1584 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C10
SYMATTR Value 0.1µ
SYMATTR SpiceLine V=25 Irms=993m Rser=0.0828114 Lser=0 mfg="KEMET" pn="C1812F104K3RAC" type="X7R"
SYMBOL diode -336 1488 R0
SYMATTR InstName D12
SYMATTR Value 1N4148
TEXT -608 -224 Left 2 !.tran 0 5 0 1 uic\n \n.options reltol=0.001 abstol=1p chgtol=1f\n.options gmin=1p cshunt=10f\n.options itl1=300 itl2=1500 itl4=50\n \n.model switch sw(ron=0.001 roff=1MEG vt=4.9 vh=0)
